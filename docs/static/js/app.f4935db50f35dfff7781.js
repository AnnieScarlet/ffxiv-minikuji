webpackJsonp([1],{"8Jq6":function(e,t){},"8kb5":function(e,t){},AZY6:function(e,t){},GEkf:function(e,t){},HLXr:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("/5sW"),c=n("BO1k"),r=n.n(c),i=[1,2,3,4,5,6,7,8,9],l={6:1e4,7:36,8:720,9:360,10:80,11:252,12:108,13:72,14:54,15:180,16:72,17:180,18:119,19:36,20:306,21:1080,22:144,23:1800,24:3600},a={2:[0,3,6],3:[1,4,7],4:[2,5,8],6:[0,1,2],7:[3,4,5],8:[6,7,8],1:[0,4,8],5:[2,4,6]},d=function(e){return e.reduce(function(e,t,n,s){return e+t},0)},o=function(e){return 1*d(e)/e.length},u={consts:{scores:l,lines:a},newBoard:function(){for(var e=Array(i.length),t=0;t<e.length;++t)e[t]=0;return e},getValueCombinations:function(e,t){if(1==t){var n=[],s=!0,c=!1,i=void 0;try{for(var l,a=r()(e);!(s=(l=a.next()).done);s=!0){var d=l.value;n.push([d])}}catch(e){c=!0,i=e}finally{try{!s&&a.return&&a.return()}finally{if(c)throw i}}return n}var o=[],u=[],p=!0,f=!1,h=void 0;try{for(var x,v=r()(e);!(p=(x=v.next()).done);p=!0){var _=x.value;u.push(_);var b=!0,m=!1,y=void 0;try{for(var O,g=r()(this.getValueCombinations(e.filter(function(e){return u.indexOf(e)<0}),t-1));!(b=(O=g.next()).done);b=!0){var I=O.value;o.push([_].concat(I))}}catch(e){m=!0,y=e}finally{try{!b&&g.return&&g.return()}finally{if(m)throw y}}}}catch(e){f=!0,h=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw h}}return o},getFreeIndexes:function(e){for(var t=[],n=0;n<i.length;++n)0==e[n]&&t.push(n);return t},getLineValues:function(e,t){var n=[],s=!0,c=!1,i=void 0;try{for(var l,d=r()(a[t]);!(s=(l=d.next()).done);s=!0){var o=l.value;0!=e[o]&&n.push(e[o])}}catch(e){c=!0,i=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw i}}return n},getPossibleValues:function(e,t){if(0==3-t.length)return[t];var n=[],s=!0,c=!1,l=void 0;try{for(var a,d=r()(i);!(s=(a=d.next()).done);s=!0){var o=a.value;e.indexOf(o)<0&&t.indexOf(o)<0&&n.push(o)}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}var u=[],p=!0,f=!1,h=void 0;try{for(var x,v=r()(this.getValueCombinations(n,3-t.length));!(p=(x=v.next()).done);p=!0){var _=x.value;u.push(_.concat(t))}}catch(e){f=!0,h=e}finally{try{!p&&v.return&&v.return()}finally{if(f)throw h}}return u},getExpectedScores:function(e,t){var n=[],s=this.getLineValues(e,t),c=!0,i=!1,a=void 0;try{for(var o,u=r()(this.getPossibleValues(e,s));!(c=(o=u.next()).done);c=!0){var p=o.value;n.push(l[d(p)])}}catch(e){i=!0,a=e}finally{try{!c&&u.return&&u.return()}finally{if(i)throw a}}return n},getScoresPerIndex:function(e){var t=this.getFreeIndexes(e),n=[],s=!0,c=!1,i=void 0;try{for(var l,u=r()(t);!(s=(l=u.next()).done);s=!0){var p=l.value,f=[];for(var h in a)if(a[h].indexOf(p)>=0){var x=this.getExpectedScores(e,h);f.push(o(x))}n.push({index:p,score:d(f)})}}catch(e){c=!0,i=e}finally{try{!s&&u.return&&u.return()}finally{if(c)throw i}}return n},getScoresPerLine:function(e){var t=[];for(var n in a){var s=this.getExpectedScores(e,n).sort(function(e,t){return t-e});t.push({id:n,score:o(s),values:s})}return t}},p=n("Gu7T"),f=n.n(p),h={name:"scratch-board",data:function(){return{duplicatedIndexes:[]}},props:["board","expectedIndexes","selectedLine"],computed:{classObject:function(){return this.duplicatedIndexes.length>0?this.getDuplicatedIndexClass(this.duplicatedIndexes):this.expectedIndexes?this.getExpectedIndexClass(this.expectedIndexes):this.selectedLine?this.getSelectedLineClass(this.selectedLine):{}}},methods:{dispNumber:function(e){var t=this.board[e];return t||""},reset:function(){this.duplicatedIndexes=[],this.$emit("reset")},validate:function(){var e=[],t=this.board.filter(function(e,t,n){return e>0&&n.indexOf(e)===t&&t!==n.lastIndexOf(e)});return this.board.forEach(function(n,s){t.indexOf(n)>=0&&e.push(s)}),this.duplicatedIndexes=e,0==e.length},selectIndex:function(e){this.duplicatedIndexes.length>0&&this.duplicatedIndexes.indexOf(e)<0||this.$emit("selectIndex",e,this.validate)},getDuplicatedIndexClass:function(e){var t={},n=!0,s=!1,c=void 0;try{for(var i,l=r()(e);!(n=(i=l.next()).done);n=!0){t["duplicated_"+i.value]=!0}}catch(e){s=!0,c=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw c}}return t},getExpectedIndexClass:function(e){var t=Math.max.apply(Math,f()(e.map(function(e){return e.score}))),n={},s=!0,c=!1,i=void 0;try{for(var l,a=r()(e);!(s=(l=a.next()).done);s=!0){var d=l.value;d.score==t&&(n["expected_"+d.index]=!0)}}catch(e){c=!0,i=e}finally{try{!s&&a.return&&a.return()}finally{if(c)throw i}}return n},getSelectedLineClass:function(e){var t={},n=e.indexes;return t["expected_line_"+e.id]=!0,n.forEach(function(e){t["expected_"+e]=!0}),t}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-bordered",attrs:{id:"scratch-board"}},[n("tbody",[n("tr",[n("th",{class:[{expected:e.classObject.expected_line_1},"col-xs-1","col-sm-1"]},[e._v("1")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_2},"col-xs-3","col-sm-3"]},[e._v("2")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_3},"col-xs-3","col-sm-3"]},[e._v("3")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_4},"col-xs-3","col-sm-3"]},[e._v("4")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_5},"col-xs-1","col-sm-1"]},[e._v("5")])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_6}},[e._v("6")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_0,expected:e.classObject.expected_0},on:{click:function(t){e.selectIndex(0)}}},[e._v(e._s(e.dispNumber(0)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_1,expected:e.classObject.expected_1},on:{click:function(t){e.selectIndex(1)}}},[e._v(e._s(e.dispNumber(1)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_2,expected:e.classObject.expected_2},on:{click:function(t){e.selectIndex(2)}}},[e._v(e._s(e.dispNumber(2)))])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_7}},[e._v("7")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_3,expected:e.classObject.expected_3},on:{click:function(t){e.selectIndex(3)}}},[e._v(e._s(e.dispNumber(3)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_4,expected:e.classObject.expected_4},on:{click:function(t){e.selectIndex(4)}}},[e._v(e._s(e.dispNumber(4)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_5,expected:e.classObject.expected_5},on:{click:function(t){e.selectIndex(5)}}},[e._v(e._s(e.dispNumber(5)))])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_8}},[e._v("8")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_6,expected:e.classObject.expected_6},on:{click:function(t){e.selectIndex(6)}}},[e._v(e._s(e.dispNumber(6)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_7,expected:e.classObject.expected_7},on:{click:function(t){e.selectIndex(7)}}},[e._v(e._s(e.dispNumber(7)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_8,expected:e.classObject.expected_8},on:{click:function(t){e.selectIndex(8)}}},[e._v(e._s(e.dispNumber(8)))]),e._v(" "),n("th",[n("button",{staticClass:"btn btn-default",on:{click:e.reset}},[e._v("Reset")])])])])])])},staticRenderFns:[]},v=n("VU/8")(h,x,!1,function(e){n("Qi4L")},null,null).exports,_={name:"expected-table",props:["expectedLines"],computed:{classObject:function(){var e=this.expectedLines.map(function(e){return e.score}).filter(function(e,t,n){return n.indexOf(e)===t}).sort(function(e,t){return t-e}),t={},n=!0,s=!1,c=void 0;try{for(var i,l=r()(this.expectedLines);!(n=(i=l.next()).done);n=!0){var a=i.value;e[0]==a.score?(this.$emit("selectLine",a.id),t["expected-1_"+a.id]=!0):e[1]==a.score&&(t["expected-2_"+a.id]=!0)}}catch(e){s=!0,c=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw c}}return t}},methods:{sort:function(e){"id"===e?this.expectedLines.sort(function(e,t){return e.id-t.id}):"score"==e?this.expectedLines.sort(function(e,t){return t.score-e.score||t.values[0]-e.values[0]}):"max_value"==e&&this.expectedLines.sort(function(e,t){return t.values[0]-e.values[0]||t.score-e.score})}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped table-responsive",attrs:{id:"expected-table"}},[n("thead",[n("th",{staticClass:"col-xs-1 col-sm-1 line-no",on:{click:function(t){e.sort("id")}}},[e._v("#")]),e._v(" "),n("th",{staticClass:"col-xs-3 col-sm-2 expection",on:{click:function(t){e.sort("score")}}},[e._v("期待値")]),e._v(" "),n("th",{staticClass:"col-xs-9 col-sm-9",on:{click:function(t){e.sort("max_value")}}},[e._v("候補")])]),e._v(" "),n("tbody",e._l(e.expectedLines,function(t){return n("tr",{class:{"expected-1":e.classObject["expected-1_"+t.id],"expected-2":e.classObject["expected-2_"+t.id]},on:{click:function(n){e.$emit("selectLine",t.id)}}},[n("th",{staticClass:"line-no"},[e._v(e._s(t.id))]),e._v(" "),n("td",{staticClass:"expection"},[e._v(e._s(t.score.toFixed(2)))]),e._v(" "),n("td",[e._v(e._s(t.values))])])}))])},staticRenderFns:[]},m=n("VU/8")(_,b,!1,function(e){n("AZY6")},null,null).exports,y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"number-panels"},on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.selectNumber(-1)}}},[n("h2",[e._v("Choose Number")]),e._v(" "),n("ul",{on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.selectNumber(-1)}}},[e._l(9,function(t){return n("li",{class:{invisible:e.board.indexOf(t)>=0},on:{click:function(n){e.selectNumber(t)}}},[n("span",[e._v(e._s(t))])])}),e._v(" "),n("li",{on:{click:function(t){e.selectNumber(0)}}},[n("span",[e._v("clear")])])],2)])},staticRenderFns:[]},O=n("VU/8")({name:"number-panels",props:["board","selectNumber"]},y,!1,function(e){n("iNmD")},null,null).exports,g=n("GEkf"),I=n.n(g),L={render:function(){this.$createElement;this._self._c;return this._m(0,!1,!1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("FFXIV ミニくじシミュレーター")])])}]},j=function(e){n("XUir")},N=n("VU/8")(I.a,L,!1,j,null,null).exports,k=n("8kb5"),E=n.n(k),w={render:function(){this.$createElement;this._self._c;return this._m(0,!1,!1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[t("span",{staticClass:"credits"},[this._v("Created by "),t("a",{attrs:{href:"https://twitter.com/annie_thf",target:"_blank"}},[this._v("@annie_thf")])])])}]},C=function(e){n("8Jq6")},P={name:"app",components:{AppHeader:N,AppFooter:n("VU/8")(E.a,w,!1,C,null,null).exports,ScratchBoard:v,ExpectedTable:m,NumberPanels:O},data:function(){return{showNumberPanels:!1,selectNumber:null,board:[],expectedIndexes:null,expectedLines:null,selectedLine:null}},methods:{reset:function(){this.board=u.newBoard(),this.expectedIndexes=null,this.expectedLines=null,this.selectedLine=null},selectIndex:function(e,t){var n=this,s=function(){return n.board.filter(function(e){return e>0}).length};s()>=4&&0==this.board[e]||(this.showNumberPanels=!0,this.selectNumber=function(c){n.selectNumber=null,n.showNumberPanels=!1,c>=0&&(n.expectedIndexes=null,n.expectedLines=null,n.selectedLine=null,n.board.splice(e,1,c),t()&&n.calcExpection(s()))})},selectLine:function(e){this.selectedLine={id:e,indexes:u.consts.lines[e]}},calcExpection:function(e){e<4?this.expectedIndexes=u.getScoresPerIndex(this.board):this.expectedLines=u.getScoresPerLine(this.board)}},mounted:function(){this.reset()}},V={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("AppHeader"),this._v(" "),t("ScratchBoard",{attrs:{board:this.board,expectedIndexes:this.expectedIndexes,selectedLine:this.selectedLine},on:{reset:this.reset,selectIndex:this.selectIndex}}),this._v(" "),this.expectedLines?t("ExpectedTable",{attrs:{expectedLines:this.expectedLines},on:{selectLine:this.selectLine}}):this._e(),this._v(" "),this.showNumberPanels?t("NumberPanels",{attrs:{board:this.board,selectNumber:this.selectNumber}}):this._e(),this._v(" "),t("AppFooter")],1)},staticRenderFns:[]},F=n("VU/8")(P,V,!1,function(e){n("HLXr")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",render:function(e){return e(F)}})},Qi4L:function(e,t){},XUir:function(e,t){},iNmD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f4935db50f35dfff7781.js.map